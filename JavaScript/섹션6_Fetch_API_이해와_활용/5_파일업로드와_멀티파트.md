# 파일업로드와 멀티파트

## 텍스트 데이터 vs 바이너리 파일

보통의 데이터는 JSON 포맷으로 전송

**Image, PDF, 영상은**?  
base64인코딩을 해서 사용할 수 있지만 용량이 굉장히 커져서 네트워크 성능 저하를 일으킴.  
그래서 그냥 binary 형태로 파일을 보낼 수 있는 방법이 있음

### binary 파일을 전송하려면?

content-type: multipart/form-data를 사용!  
더구나, File전송과 함께 form 입력필드도 같이 전송 가능  
하지만 content-type 속성은 별도 지정할 필요 없음

경계 문자열을 기준으로 데이터를 구분해서 multipart 라고 불림

```http
POST /foo HTTP/1.1
Content-Length: 68137
Content-Type: multipart/form-data; boundary=---------------------------974767299852498929531610575
Content-Disposition: form-data; name="description"
---------------------------974767299852498929531610575

some text

---------------------------974767299852498929531610575 //이게 경계값
Content-Disposition: form-data; name="myFile"; filename="foo.txt"
Content-Type: text/plain

(content of the uploaded file foo.txt)

---------------------------974767299852498929531610575--
```

### form 태그

```html
<form id="uploadForm">
  <label>
    이미지 업로드 : <input type="file" name="image" accept="image/*" />
  </label>
  <button type="submit">업로드</button>
</form>
```
